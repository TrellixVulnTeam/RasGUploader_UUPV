

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>General information &mdash; OctoPrint 1.3.9 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Version information" href="version.html" />
    <link rel="prev" title="REST API" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> OctoPrint
          

          
          </a>

          
            
            
              <div class="version">
                1.3.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundledplugins/index.html">Bundled Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">REST API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">General information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#authorization">Authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#content-type">Content Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#encoding">Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cross-origin-requests">Cross-origin requests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="version.html">Version information</a></li>
<li class="toctree-l2"><a class="reference internal" href="apps.html">Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="connection.html">Connection handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="files.html">File operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="job.html">Job operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="languages.html">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="logs.html">Log file management</a></li>
<li class="toctree-l2"><a class="reference internal" href="printer.html">Printer operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="printerprofiles.html">Printer profile operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="slicing.html">Slicing</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="timelapse.html">Timelapse</a></li>
<li class="toctree-l2"><a class="reference internal" href="users.html">User</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html">Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="wizard.html">Wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="push.html">Push updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="datamodel.html">Common data model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Internal Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jsclientlib/index.html">JavaScript Client Library</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OctoPrint</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">REST API</a> &raquo;</li>
        
      <li>General information</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/general.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general-information">
<span id="sec-api-general"></span><h1><a class="toc-backref" href="#id5">General information</a><a class="headerlink" href="#general-information" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#general-information" id="id5">General information</a><ul>
<li><a class="reference internal" href="#authorization" id="id6">Authorization</a></li>
<li><a class="reference internal" href="#content-type" id="id7">Content Type</a></li>
<li><a class="reference internal" href="#encoding" id="id8">Encoding</a></li>
<li><a class="reference internal" href="#cross-origin-requests" id="id9">Cross-origin requests</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="authorization">
<span id="sec-api-general-authorization"></span><h2><a class="toc-backref" href="#id6">Authorization</a><a class="headerlink" href="#authorization" title="Permalink to this headline">¶</a></h2>
<p>OctoPrint’s API expects an API key to be supplied with each request. This API key can be either the globally
configured one, a user specific one if “Access Control” is enabled or an <a class="reference internal" href="apps.html#sec-api-apps-sessionkey"><span class="std std-ref">App Session Key</span></a>.
Users are able to generate and revoke their custom API key via the “Change password” dialog.</p>
<p>The API key must be supplied in the custom HTTP header <code class="docutils literal"><span class="pre">X-Api-Key</span></code>, e.g.</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/files</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<p>If it is missing or included but invalid, OctoPrint will directly return a response with status <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a>.</p>
<p>For testing purposes it is also possible to supply the API key via a query parameter <code class="docutils literal"><span class="pre">apikey</span></code>, e.g.</p>
<div class="highlight-http"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/files?apikey=abcdef...</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
</pre></div>
</div>
<p>Please be advised that clients should use the header field variant if at all possible.</p>
<div class="figure align-center" id="id1">
<span id="fig-api-general-globalapikey"></span><img alt="Global API key in the API settings" src="../_images/settings-global-api-key.png" />
<p class="caption"><span class="caption-number">Fig. 14 </span><span class="caption-text">The global API key can be found in the “API” settings</span></p>
</div>
<div class="figure align-center" id="id2">
<span id="fig-api-general-userapikey"></span><img alt="User specific API key location in user list" src="../_images/settings-user-api-key.png" />
<p class="caption"><span class="caption-number">Fig. 15 </span><span class="caption-text">The user list in the “Access Control” settings shows the API key for users (if available)</span></p>
</div>
<div class="figure align-center" id="id3">
<span id="fig-api-general-changepassword"></span><img alt="API key options in &quot;Change password&quot; dialog" src="../_images/change-password-api-key.png" />
<p class="caption"><span class="caption-number">Fig. 16 </span><span class="caption-text">The API key options in the “Change password” dialog. Users can generate and revoke their custom API key here.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">OctoPrint’s web interface uses a custom API key that is freshly generated on every server start. This key is not
intended to be used by any other client and would not be very useful in any case, since it basically represents
a completely anonymous client.</p>
</div>
</div>
<div class="section" id="content-type">
<span id="sec-api-general-contenttype"></span><h2><a class="toc-backref" href="#id7">Content Type</a><a class="headerlink" href="#content-type" title="Permalink to this headline">¶</a></h2>
<p>If not otherwise stated, OctoPrint’s API expects request bodies and issues response bodies as <code class="docutils literal"><span class="pre">Content-Type:</span> <span class="pre">application/json</span></code>.</p>
</div>
<div class="section" id="encoding">
<span id="sec-api-general-encoding"></span><h2><a class="toc-backref" href="#id8">Encoding</a><a class="headerlink" href="#encoding" title="Permalink to this headline">¶</a></h2>
<p>OctoPrint uses UTF-8 as charset.</p>
<p>That also includes headers in <code class="docutils literal"><span class="pre">multipart/form-data</span></code> requests, in order to allow the full UTF-8 range of characters
for uploaded filenames. If a <code class="docutils literal"><span class="pre">multipart/form-data</span></code> sub header cannot be decoded as UTF-8, OctoPrint will also attempt
to decode it as ISO-8859-1.</p>
<p>Additionally, OctoPrint supports replacing the <code class="docutils literal"><span class="pre">filename</span></code> field in the <code class="docutils literal"><span class="pre">Content-Disposition</span></code> header of a
multipart field with a <code class="docutils literal"><span class="pre">filename*</span></code> field following <a class="reference external" href="https://tools.ietf.org/html/rfc5987#section-3.2">RFC 5987, Section 3.2</a>,
which allows defining the charset used for encoding the filename. If both <code class="docutils literal"><span class="pre">filename</span></code> and <code class="docutils literal"><span class="pre">filename*</span></code> fields are
present, following the recommendation of the RFC <code class="docutils literal"><span class="pre">filename*</span></code> will be used.</p>
<p>For an example on how to send a request utilizing RFC 5987 for the <code class="docutils literal"><span class="pre">filename*</span></code> attribute, see the second example
in <a class="reference internal" href="files.html#sec-api-fileops-uploadfile"><span class="std std-ref">Upload file</span></a>.</p>
</div>
<div class="section" id="cross-origin-requests">
<span id="sec-api-general-crossorigin"></span><h2><a class="toc-backref" href="#id9">Cross-origin requests</a><a class="headerlink" href="#cross-origin-requests" title="Permalink to this headline">¶</a></h2>
<p>To make use of the OctoPrint API from websites other than the OctoPrint web interface,
cross-origin resource sharing (<a class="reference external" href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a>) must be enabled.
This is the case even when the website in question is served from a different port on the same machine and on localhost.</p>
<p>To enable this feature, set the <code class="docutils literal"><span class="pre">allowCrossOrigin</span></code> key of the <code class="docutils literal"><span class="pre">api</span></code> section in <code class="docutils literal"><span class="pre">config.yml</span></code> to <code class="docutils literal"><span class="pre">true</span></code> or
check the corresponding checkbox in the API settings dialog.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">api</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">enabled</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">...</span>
  <span class="l l-Scalar l-Scalar-Plain">allowCrossOrigin</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<div class="figure align-center" id="id4">
<span id="fig-api-general-apicors"></span><img alt="CORS configuration in the API settings" src="../_images/settings-api-cors.png" />
<p class="caption"><span class="caption-number">Fig. 17 </span><span class="caption-text">Support for CORS can be enabled in the “API” settings</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This means any browser page can send requests to the OctoPrint API. Authorization is still required however.</p>
</div>
<p>If CORS is not enabled you will get errors like the following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">XMLHttpRequest</span> <span class="n">cannot</span> <span class="n">load</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">8081</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">.</span> <span class="n">No</span> <span class="s1">&#39;Access-Control-Allow-Origin&#39;</span>
<span class="n">header</span> <span class="ow">is</span> <span class="n">present</span> <span class="n">on</span> <span class="n">the</span> <span class="n">requested</span> <span class="n">resource</span><span class="o">.</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="version.html" class="btn btn-neutral float-right" title="Version information" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="REST API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2018, Gina Häußge

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.3.9',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>